<head>
  <link href='http://fonts.googleapis.com/css?family=Raleway:400,700' rel='stylesheet' type='text/css'>
</head>

<body>
  {{> body}}
</body>

<template name="body">
  {{> toolbar}}
  {{> content}}
</template>

<template name="content">
  <div id="content">
    {{> revealDemo}}
    <!-- {{> courseList}}    -->
    <!-- {{> insertCourseForm}} -->
  </div>
</template>

<template name="revealDemo">
  <div class="reveal">
      <div class="slides">
        <section>
	    <iframe src="http://beta.slashdot.org/" width="100%" height="100%"></iframe>
        </section>
        <section>
	    <iframe src="http://fark.com" width="100%" height="100%"></iframe>
        </section>
        <section>
	    <iframe src="http://arstechnica.com" width="100%" height="100%"></iframe>
        </section>
        <section>
	    <iframe src="http://archive.org" width="100%" height="100%"></iframe>
        </section>
    </div>
  </div>
</template>

<template name="courseList">
  <div class="courses">
    {{#each courses}}
    {{> courseItem}}
    {{/each}}
  </div>
</template>

<template name="courseItem">
  <div class="course">
    <img class="course-thumbnail" src={{thumbnail}}>
    <div class="course-content">
      <h3>{{title}}</h3>
      <h4>{{main_question}}</h4>
      <p>{{description}}</p>
    </div>
    <div class="author-content">
      <img src='images/lance.jpg' style='height:40px'>
      <p class="author-name">
        {{author}}
        <br>
        <span>30</span> minutes
        <br>
        <span>12</span> learners
        <br>
        <span>2</span> likes
      </p>
      
    </div>
  </div>
</template>

<template name="toolbar">
  <div class="toolbar">
    <div class="col-logo"> <img width="100%" src="images/panjia.png"/></div>
    {{> mycourses}}
    {{> questions}}
    {{> answers}}
    {{> easysearch}}
    <!-- {{> profilename}} -->
    <!-- {{> profile}} -->
    {{> profilemeteorauth}}
    {{> newcourse}}
    {{> connect}}
  </div>
</template>

<template name="mycourses">
  <div id="mycourses">Courses</div>
</template>

<template name="questions">
  <div id="questions">Questions</div>
</template>

<template name="answers">
  <div id="answers">Answers</div>
</template>

<template name="search">
  <div id="search"> 
    <input id="searchBox" type="text" placeholder="What would you like to learn?">
    <input id="searchButton" type="image" src="images/mglass.png">
  </div>
</template>

<template name="profilemeteorauth">
  <div id="profilemeteorauth">{{> loginButtons}}</div>
</template>

<template name="profilename">
  <div id="profilename">{{> loginButtons}}</div>
</template>

<template name="profile">
  <div id="profile"> <img src="images/niels.png"></div>
</template>

<template name="newcourse">
  <div id="icon"> <img src="images/newcourse.png"></div>
</template>

<template name="connect">
  <div id="icon"> <img src="images/connect.png"></div>
</template>

<template name="easysearch">
  <div class="searchBox">
    {{> esInput index="courses" placeholder="What do you want to learn?" }}

    {{#ifEsIsSearching index="courses"}}
    <div class="search-loading">Loading...</div>
    {{/ifEsIsSearching}}

    <div class="results-wrapper">
      {{#esEach index="courses"}}
      <ul>
	<li><span>Course : </span> {{title}}</li>
	<li><span>Description : </span>  {{description}}</li>
	<li><span>Question : </span>  {{main_question}}</li>
      </ul>
      
      <!-- {{> courseItem}} -->
      {{/esEach}}

    </div>
    <!-- {{#ifEsHasNoResults index="courses"}} -->
    <!-- <div class="no-results">No results found!</div> -->
    <!-- {{/ifEsHasNoResults}} -->

  </div>

</template>

<template name="insertCourseForm">
  <div class="container"> 
    <div class="row">
      <div class="col-md-3"></div>
      <div class="col-md-6 welcome">SHARE YOUR KNOWLEDGE</div>
      <div class="col-md-3"></div>
    </div>
    
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">

        {{#autoForm collection="Courses" doc=selectedDoc id="docForm" type=docFormType template="bootstrap3"}}

	<div class="form-group {{#if afFieldIsInvalid name='title'}}has-error{{/if}}">
          {{> afFieldInput name='title' style="height: 40px; resize: none; width: 100%; font-family:'Raleway'" placeholder="Title"}}
          {{#if afFieldIsInvalid name='title'}} <span class="help-block">{{{afFieldMessage name='title'}}}</span>{{/if}}
        </div>

	<div class="form-group {{#if afFieldIsInvalid name='description'}}has-error{{/if}}">
          {{> afFieldInput name='description' style="height: 80px; resize: none; width: 100%; font-family:'Raleway'" placeholder="Description"}}
          {{#if afFieldIsInvalid name='description'}} <span class="help-block">{{{afFieldMessage name='description'}}}</span>{{/if}}
        </div>



        {{/autoForm}}
      </div>
      <div class="col-md-2"></div>
    </div>
  </div>
</template>

<template name="showCourse">
  <div style="width: 100%;">
    <div style="float: right; width: 50%;">
      {{#each courses}}
      <ul>
        <li>{{title}}</li>
        <li>{{description}}</li>
        <li>{{author}}</li>
        <li>{{main_question}}</li>
        <ul>
          {{#each links}}
          <li>{{id}}</li>
          <li><iframe src="{{url}}"></iframe></li>
          <li>{{title}}</li>
          <li>{{description}}</li>
          <ul>
            {{#each questions}}
	    <li>{{title}}</li>
            <ul>
              {{#each answers}}
              <li>{{text}}</li>
              {{/each}}
            </ul>
	    {{/each}}
	  </ul>
	  {{/each}}
        </ul>
      </ul>
      {{/each}}
    </div>
  </div>
</template>
